<html>
<head>
<title>
CppUnit - The Unit Testing Library
</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>

<body bgcolor="#ffffff"> 
<table width="100%">
  <tr>
    <td width="40%" align="left" valign="center">
      <a href="http://sourceforge.net/projects/cppunit">
      CppUnit project page
      </a>
    </td>
    <td>
      <a href="FAQ">FAQ</a>
    </td>
    <td width="40%" align="right" valign="center">
      <a href="http://cppunit.sourceforge.net">CppUnit home page</a>
    </td>
  </tr>
</table>

<hr>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>TestAssert.h</h1><a href="_test_assert_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#ifndef CPPUNIT_TESTASSERT_H</font>
00002 <font class="preprocessor"></font><font class="preprocessor">#define CPPUNIT_TESTASSERT_H</font>
00003 <font class="preprocessor"></font>
00004 <font class="preprocessor">#include &lt;<a class="code" href="_portability_8h.html">cppunit/Portability.h</a>&gt;</font>
00005 <font class="preprocessor">#include &lt;<a class="code" href="_exception_8h.html">cppunit/Exception.h</a>&gt;</font>
00006 <font class="preprocessor">#include &lt;<a class="code" href="_asserter_8h.html">cppunit/Asserter.h</a>&gt;</font>
00007 
00008 
00009 <font class="keyword">namespace </font>CppUnit {
00010 
00034   <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
<a name="l00035"></a><a class="code" href="struct_cpp_unit_1_1assertion__traits.html">00035</a>   <font class="keyword">struct </font>assertion_traits 
00036   {  
<a name="l00037"></a><a class="code" href="struct_cpp_unit_1_1assertion__traits.html#d0">00037</a>       <font class="keyword">static</font> <font class="keywordtype">bool</font> <a class="code" href="struct_cpp_unit_1_1assertion__traits.html#d0">equal</a>( <font class="keyword">const</font> T&amp; x, <font class="keyword">const</font> T&amp; y )
00038       {
00039           <font class="keywordflow">return</font> x == y;
00040       }
00041 
<a name="l00042"></a><a class="code" href="struct_cpp_unit_1_1assertion__traits.html#d1">00042</a>       <font class="keyword">static</font> std::string <a class="code" href="struct_cpp_unit_1_1assertion__traits.html#d1">toString</a>( <font class="keyword">const</font> T&amp; x )
00043       {
00044           OStringStream ost;
00045           ost &lt;&lt; x;
00046           <font class="keywordflow">return</font> ost.str();
00047       }
00048   };
00049 
00050 
<a name="l00051"></a><a class="code" href="namespace_cpp_unit_1_1_test_assert.html">00051</a>   <font class="keyword">namespace </font>TestAssert
00052   {
00053 <font class="preprocessor">#ifdef CPPUNIT_ENABLE_SOURCELINE_DEPRECATED</font>
00054 <font class="preprocessor"></font>    <font class="keywordtype">void</font> CPPUNIT_API assertImplementation( <font class="keywordtype">bool</font>         condition, 
00055                                            std::string  conditionExpression = <font class="stringliteral">""</font>,
00056                                            <font class="keywordtype">long</font> lineNumber,
00057                                            std::string  fileName );
00058 
00059     <font class="keywordtype">void</font> CPPUNIT_API assertNotEqualImplementation( std::string expected,
00060                                                    std::string actual,
00061                                                    <font class="keywordtype">long</font> lineNumber,
00062                                                    std::string fileName );
00063       
00064 
00065     <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00066     <font class="keywordtype">void</font> <a class="code" href="namespace_cpp_unit_1_1_test_assert.html#a0">assertEquals</a>( <font class="keyword">const</font> T&amp; expected,
00067                        <font class="keyword">const</font> T&amp; actual,
00068                        <font class="keywordtype">long</font> lineNumber,
00069                        std::string fileName )
00070     {
00071       <font class="keywordflow">if</font> ( !assertion_traits&lt;T&gt;::equal(expected,actual) ) <font class="comment">// lazy toString conversion...</font>
00072       {
00073         assertNotEqualImplementation( assertion_traits&lt;T&gt;::toString(expected),
00074                                       assertion_traits&lt;T&gt;::toString(actual),
00075                                       lineNumber, 
00076                                       fileName );
00077       }
00078     }
00079 
00080     <font class="keywordtype">void</font> CPPUNIT_API <a class="code" href="namespace_cpp_unit_1_1_test_assert.html#a0">assertEquals</a>( <font class="keywordtype">double</font> expected, 
00081                                    <font class="keywordtype">double</font> actual, 
00082                                    <font class="keywordtype">double</font> delta, 
00083                                    <font class="keywordtype">long</font> lineNumber,
00084                                    std::string fileName );
00085 
00086 <font class="preprocessor">#else   //                  using SourceLine</font>
00087 <font class="preprocessor"></font>
00088     <font class="keyword">template</font> &lt;<font class="keyword">class</font> T&gt;
00089     <font class="keywordtype">void</font> <a class="code" href="namespace_cpp_unit_1_1_test_assert.html#a0">assertEquals</a>( <font class="keyword">const</font> T&amp; expected,
00090                        <font class="keyword">const</font> T&amp; actual,
00091                        SourceLine sourceLine,
00092                        <font class="keyword">const</font> std::string &amp;message =<font class="stringliteral">""</font> )
00093     {
00094       <font class="keywordflow">if</font> ( !assertion_traits&lt;T&gt;::equal(expected,actual) ) <font class="comment">// lazy toString conversion...</font>
00095       {
00096         Asserter::failNotEqual( assertion_traits&lt;T&gt;::toString(expected),
00097                                 assertion_traits&lt;T&gt;::toString(actual),
00098                                 sourceLine,
00099                                 message );
00100       }
00101     }
00102 
00103     <font class="keywordtype">void</font> CPPUNIT_API <a class="code" href="namespace_cpp_unit_1_1_test_assert.html#a1">assertDoubleEquals</a>( <font class="keywordtype">double</font> expected,
00104                                          <font class="keywordtype">double</font> actual,
00105                                          <font class="keywordtype">double</font> delta,
00106                                          SourceLine sourceLine );
00107 
00108 <font class="preprocessor">#endif</font>
00109 <font class="preprocessor"></font>  }
00110 
00111 
00112 <font class="comment">/* A set of macros which allow us to get the line number</font>
00113 <font class="comment"> * and file name at the point of an error.</font>
00114 <font class="comment"> * Just goes to show that preprocessors do have some</font>
00115 <font class="comment"> * redeeming qualities.</font>
00116 <font class="comment"> */</font>
00117 <font class="preprocessor">#if CPPUNIT_HAVE_CPP_SOURCE_ANNOTATION</font>
00118 <font class="preprocessor"></font>
<a name="l00121"></a><a class="code" href="group___assertions.html#a0">00121</a> <font class="preprocessor">#define CPPUNIT_ASSERT(condition)                          \</font>
00122 <font class="preprocessor">  ( ::CppUnit::Asserter::failIf( !(condition),             \</font>
00123 <font class="preprocessor">                                 (#condition),             \</font>
00124 <font class="preprocessor">                                 CPPUNIT_SOURCELINE() ) )</font>
00125 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00126 <font class="preprocessor"></font><font class="preprocessor">#define CPPUNIT_ASSERT(condition)                          \</font>
00127 <font class="preprocessor">  ( ::CppUnit::Asserter::failIf( !(condition),             \</font>
00128 <font class="preprocessor">                                 "",                       \</font>
00129 <font class="preprocessor">                                 CPPUNIT_SOURCELINE() ) )</font>
00130 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00131 <font class="preprocessor"></font>
<a name="l00139"></a><a class="code" href="group___assertions.html#a1">00139</a> <font class="preprocessor">#define CPPUNIT_ASSERT_MESSAGE(message,condition)          \</font>
00140 <font class="preprocessor">  ( ::CppUnit::Asserter::failIf( !(condition),             \</font>
00141 <font class="preprocessor">                                 (message),                \</font>
00142 <font class="preprocessor">                                 CPPUNIT_SOURCELINE() ) )</font>
00143 <font class="preprocessor"></font>
<a name="l00148"></a><a class="code" href="group___assertions.html#a2">00148</a> <font class="preprocessor">#define CPPUNIT_FAIL( message )                            \</font>
00149 <font class="preprocessor">  ( ::CppUnit::Asserter::fail( message,                    \</font>
00150 <font class="preprocessor">                               CPPUNIT_SOURCELINE() ) )</font>
00151 <font class="preprocessor"></font>
00152 <font class="preprocessor">#ifdef CPPUNIT_ENABLE_SOURCELINE_DEPRECATED</font>
00153 <font class="preprocessor"></font>
00154 <font class="preprocessor">#define CPPUNIT_ASSERT_EQUAL(expected,actual)                    \</font>
00155 <font class="preprocessor">  ( ::CppUnit::TestAssert::assertEquals( (expected),             \</font>
00156 <font class="preprocessor">                                         (actual),               \</font>
00157 <font class="preprocessor">                                         __LINE__, __FILE__ ) )</font>
00158 <font class="preprocessor"></font><font class="preprocessor">#else</font>
00159 <font class="preprocessor"></font>
<a name="l00175"></a><a class="code" href="group___assertions.html#a3">00175</a> <font class="preprocessor">#define CPPUNIT_ASSERT_EQUAL(expected,actual)                     \</font>
00176 <font class="preprocessor">  ( ::CppUnit::TestAssert::assertEquals( (expected),              \</font>
00177 <font class="preprocessor">                                         (actual),                \</font>
00178 <font class="preprocessor">                                         CPPUNIT_SOURCELINE() ) )</font>
00179 <font class="preprocessor"></font>
<a name="l00198"></a><a class="code" href="group___assertions.html#a4">00198</a> <font class="preprocessor">#define CPPUNIT_ASSERT_EQUAL_MESSAGE(message,expected,actual)     \</font>
00199 <font class="preprocessor">  ( ::CppUnit::TestAssert::assertEquals( (expected),              \</font>
00200 <font class="preprocessor">                                         (actual),                \</font>
00201 <font class="preprocessor">                                         CPPUNIT_SOURCELINE(),    \</font>
00202 <font class="preprocessor">                                         (message) ) )</font>
00203 <font class="preprocessor"></font><font class="preprocessor">#endif</font>
00204 <font class="preprocessor"></font>
<a name="l00208"></a><a class="code" href="group___assertions.html#a5">00208</a> <font class="preprocessor">#define CPPUNIT_ASSERT_DOUBLES_EQUAL(expected,actual,delta)       \</font>
00209 <font class="preprocessor">  ( ::CppUnit::TestAssert::assertDoubleEquals( (expected),        \</font>
00210 <font class="preprocessor">                                               (actual),          \</font>
00211 <font class="preprocessor">                                               (delta),           \</font>
00212 <font class="preprocessor">                                               CPPUNIT_SOURCELINE() ) )</font>
00213 <font class="preprocessor"></font>
00214 <font class="comment">// Backwards compatibility</font>
00215 
00216 <font class="preprocessor">#if CPPUNIT_ENABLE_NAKED_ASSERT</font>
00217 <font class="preprocessor"></font>
00218 <font class="preprocessor">#undef assert</font>
00219 <font class="preprocessor"></font><font class="preprocessor">#define assert(c)                 CPPUNIT_ASSERT(c)</font>
00220 <font class="preprocessor"></font><font class="preprocessor">#define assertEqual(e,a)          CPPUNIT_ASSERT_EQUAL(e,a)</font>
00221 <font class="preprocessor"></font><font class="preprocessor">#define assertDoublesEqual(e,a,d) CPPUNIT_ASSERT_DOUBLES_EQUAL(e,a,d)</font>
00222 <font class="preprocessor"></font><font class="preprocessor">#define assertLongsEqual(e,a)     CPPUNIT_ASSERT_EQUAL(e,a)</font>
00223 <font class="preprocessor"></font>
00224 <font class="preprocessor">#endif</font>
00225 <font class="preprocessor"></font>
00226 
00227 } <font class="comment">// namespace CppUnit</font>
00228 
00229 <font class="preprocessor">#endif  // CPPUNIT_TESTASSERT_H</font>
</pre></div><hr>
<table width="100%">
  <tr>
    <td width="10%" align="left" valign="center">
      <a href="http://sourceforge.net"> 
      <img
      src="http://sourceforge.net/sflogo.php?group_id=11795"
      width="88" height="31" border="0" alt="SourceForge Logo"></a>
    </td>
    <td width="20%" align="left" valign="center">
      hosts this site.
    </td>
    <td>
    </td>
    <td align="right" valign="center">
      Send comments to:<br>
      <a href="mailto:cppunit-devel@lists.sourceforge.net">CppUnit Developers</a>
    </td>
  </tr>
</table>

</body> 
</html>
